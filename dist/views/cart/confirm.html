<div> <menu-top menu-title="title" disabled-cart-footer="1" back-enabled="/cart/payment" error="error"></menu-top> <div loader ng-show="loading"></div> <div ng-show="details.empty && !(loading && details != null)" class="clearfix"> <br> <div class="col-xs-10 col-xs-offset-1 alert alert-warning alert-dismissible fade in" data-dismiss="alert" aria-label="Close"> <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">Ã—</span></button> {{ 'cart.empty' | translate }} </div> <br> </div> <div class="recap-order" ng-hide="(details.empty && !(loading && details != null)) || (details.empty && loading)"> <div class="products"> <div ng-repeat="item in details.items" class="product" ui-sref="app.cart.edit({itemId: item.item_id})"> <div class="img"><img ng-src="{{item.icon.__text}}"></div> <div class="spec"> <a class="edit-product" ui-sref="app.cart.edit({itemId: item.item_id})">{{ 'cart.edit' | translate }}</a> <h2 class="cart-page">{{item.name}}</h2> <div class="price"> <span ng-class="(item.formated_price._special ? 'old-price' : '')">{{ item.formated_price._regular }}</span> <span ng-if="item.formated_price._special" class="new-price">{{ item.formated_price._special }}</span> </div> <ul class="infos list-unstyled"> <li ng-repeat="opt in item.options.option">{{opt._label|translate}} : {{opt._text|translate}}</li> <li>{{'product.quantity'|translate}} : {{item.qty}}</li> </ul> </div> </div> </div> <form role="form" name="connexion_form" ng-submit="submitForm()" class="ng-pristine ng-scope ng-valid ng-valid-required" style=""> <fieldset> <legend>{{'cart.recap.payment'|translate}}</legend> <a class="btn-big-action change-page" ui-sref="app.cart.payment"> <span ng-if="payData.card.new"> <i ng-class="{'card-ico': true, 'card-amex': payData.card.type == 'amex', 'card-visa': payData.card.type == 'visa', 'card-mastercard': payData.card.type == 'mastercard'}"></i> <span class="txt" ng-if="payData.card.type == 'amex'">AMEX ({{payData.card.num}})</span> <span class="txt" ng-if="payData.card.type == 'visa'">VISA ({{payData.card.num}})</span> <span class="txt" ng-if="payData.card.type == 'mastercard'">MASTERCARD ({{payData.card.num}})</span> </span> <span ng-if="payData && !payData.card.new"> <i ng-class="{'card-ico': true, 'card-amex': payData.card.type == 'American Express', 'card-visa': payData.card.type == 'Visa', 'card-mastercard': payData.card.type == 'MasterCard'}"></i> <span class="txt" ng-if="payData.card.type == 'American Express'">AMEX ({{payData.card.number.slice(-4)}})</span> <span class="txt" ng-if="payData.card.type == 'Visa'">VISA ({{payData.card.number.slice(-4)}})</span> <span class="txt" ng-if="payData.card.type == 'MasterCard'">MASTERCARD ({{payData.card.number.slice(-4)}})</span> </span> <span ng-if="!payData"><i class="card-ico card-mastercard"></i><span class="txt" translate>cart.add_card</span></span> </a> </fieldset> <fieldset ng-if="fullDetails.addresses.shipping_address"> <legend>{{'cart.recap.shipping'|translate}}</legend> <a class="btn-big-action change-page" ui-sref="app.cart.delivery"><span translate class="address-details">{{formatAddress(fullDetails.addresses.shipping_address)}}</span></a> </fieldset> <fieldset ng-if="fullDetails.addresses.billing_address"> <legend>{{'cart.recap.billing'|translate}}</legend> <a class="btn-big-action change-page" ui-sref="app.cart.billing"><span translate class="address-details">{{formatAddress(fullDetails.addresses.billing_address)}}</span></a> </fieldset> <br> <fieldset> <legend>{{'cart.recap.promo'|translate}}</legend> <div class="form-group"> <div class="input-container"> <input type="text" class="form-control" name="promo" ng-model="promo" required> </div> </div> </fieldset> <input type="submit" class="btn-big-action cart-promo-submit" value="{{'cart.recap.promo_apply'|translate}}" ng-show="promo && promo != promoapplied"> </form> <br><br><br> <br><br><br> <div ng-init="open=false" ng-class="{numbers: true, open: open}" ng-click="open=!open"> <span class="detail-toggle">{{'cart.details'|translate}}</span> <ul class="list-unstyled"> <li ng-repeat="(key,total) in details.totals" ng-class="{'text-bold':key === 'grand_total'}">{{('cart.total.' + key) | translate}} <span ng-class="{blue: key== 'grand_total', 'price-content':true}">{{total.formated_value}}</span></li> </ul> </div> <a class="valid-cart-btn" href="javascript:;" ng-click="pay()">{{'cart.pay'|translate}}</a> </div> <tracking data="{type:'cart-confirmation', id: -1}" type="all"></tracking> </div>
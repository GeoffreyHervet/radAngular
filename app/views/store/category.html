<div ui-view>
  <menu-top ng-if="fromSearch" menu-title="title" disabled-cart-footer="1" back-enabled="-1" error="error"></menu-top>
  <menu-top ng-if="!fromSearch" menu-title="title"></menu-top>
  <div loader ng-show="loading"></div>
  <div class="row" ng-show="error">
    <br />
    <div class="col-xs-10 col-xs-offset-1 alert alert-danger alert-dismissible fade in" data-dismiss="alert" aria-label="Close">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
      {{ '404.category' | translate }}
    </div>
  </div>
  <div ng-hide="loading" ng-if="fromSearch && !products.length">
    <br /><br /><br />
    <p class="text-center" translate>search.empty</p>
  </div>
  <div class="category" ng-if="products.length">
    <div class="products" infinite-scroll="loadMore()" infinite-scroll-distance="2" infinite-scroll-disabled="infiniteDisabled">
      <div ng-repeat="product in products" class="product" ng-click="goToProduct(product)">
        <img ng-src="{{ product.icon.__text }}" />
        <h2>{{product.name}}</h2>
      <span class="price">
        <span ng-show="product.price._special">{{ product.price._special }} <span class="old">{{product.price._regular}}</span></span>
        <span ng-hide="product.price._special">{{ product.price._regular }} </span>
      </span>
      </div>
    </div>
  </div>
  <div ng-show="infiniteLoading && !infiniteDisabled" class="infinite-scroll">
    <div class="loader"></div>
  </div>
  <tracking ng-if="products && productsTracking" data="{type:fromSearch ? 'search' : 'category', id: productsTracking}" type="all"></tracking>
</div>
